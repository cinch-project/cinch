<?php

use Cinch\MigrationStore\Script\CanMigrate;
use Cinch\MigrationStore\Script\CanRollback;
use Cinch\MigrationStore\Script\Script;
use Cinch\Common\Author;
use Cinch\Common\MigratePolicy;
use Cinch\Common\Description;
use Cinch\Database\Session;

return new class extends Script implements CanMigrate, CanRollback {
    public function __construct()
    {
        parent::__construct(
            MigratePolicy::from('{{ migrate_policy }}'),
            new Author('{{ author }}'),
            new DateTimeImmutable('{{ authored_at }}'),
            new Description('{{ description }}')
        );
    }}

    public function migrate(Session $session): void
    {
    }

    public function rollback(Session $session): void
    {
    }
};